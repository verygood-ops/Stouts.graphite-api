# This file was generated by Ansible for {{ansible_fqdn}}
# Do NOT modify this file by hand!

description "Graphite-API server"
start on runlevel [2345]
stop on runlevel [!2345]

console log
limit nofile 65536 65536
respawn
setgid {{graphite_api_group}}
setuid {{graphite_api_user}}

env GRAPHITE_CONF_DIR={{ graphite_api_conf_dir }}
env GRAPHITE_STORAGE_DIR={{ graphite_api_storage_dir }}
env LOCAL_DATA_DIR={{ graphite_api_local_data_dir }}
exec {{graphite_api_home}}/bin/carbon_cache.py start --config=${GRAPHITE_CONF_DIR}/carbon.conf --pidfile=${GRAPHITE_STORAGE_DIR}/carbon-cache.pid

